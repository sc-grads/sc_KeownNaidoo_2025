name: SQL Linting  # ğŸ·ï¸ Name of the workflow

on:
  push:  # ğŸ”„ Run when new code is pushed
  pull_request:  # ğŸ”„ Run when a pull request is made

jobs:
  sql-lint:  # ğŸ› ï¸ Job name
    runs-on: ubuntu-latest  # ğŸ’» Use the latest Ubuntu as the runner (virtual machine)

    steps:
      - name: Checkout repository  # ğŸ“¥ Get the code from GitHub
        uses: actions/checkout@v4

      - name: Install SQLFluff  # ğŸ“Œ Install SQLFluff (SQL linter)
        run: pip install sqlfluff

      - name: Lint SQL files  # ğŸ” Check SQL files for errors using SQLFluff
        run: sqlfluff lint DatabaseAdministration/Testing_workflow --dialect mysql
        # ğŸ“Œ "mysql" dialect is used (change if using PostgreSQL, etc.)
